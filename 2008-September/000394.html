<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Uctimsclient-users] VLC and uctimsclient
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/uctimsclient-users/2008-September/index.html" >
   <LINK REL="made" HREF="mailto:uctimsclient-users%40lists.berlios.de?Subject=Re%3A%20%5BUctimsclient-users%5D%20VLC%20and%20uctimsclient&In-Reply-To=%3C97CA8A3DB10ADF47A295BD1248E28CB301370DD7%40MADARRMAIL3.indra.es%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000393.html">
   <LINK REL="Next"  HREF="000395.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Uctimsclient-users] VLC and uctimsclient</H1>
    <B>Polo Cortina, Eduardo</B> 
    <A HREF="mailto:uctimsclient-users%40lists.berlios.de?Subject=Re%3A%20%5BUctimsclient-users%5D%20VLC%20and%20uctimsclient&In-Reply-To=%3C97CA8A3DB10ADF47A295BD1248E28CB301370DD7%40MADARRMAIL3.indra.es%3E"
       TITLE="[Uctimsclient-users] VLC and uctimsclient">epoloc at indra.es
       </A><BR>
    <I>Fri Sep 26 12:24:12 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000393.html">[Uctimsclient-users] VLC and uctimsclient
</A></li>
        <LI>Next message: <A HREF="000395.html">[Uctimsclient-users] VLC and uctimsclient
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#394">[ date ]</a>
              <a href="thread.html#394">[ thread ]</a>
              <a href="subject.html#394">[ subject ]</a>
              <a href="author.html#394">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks for your tips Bill

I've installed the gcap suite. 

I use the latest version of the indirection server (1.0.0) and the xml file has the key-value_pair tags. 

The log of the indirection server shows these messages when I request a channel from the uctimsclient:

	Server is ready to accept client requests... 
	Event type: 5 New call received!
	Client requesting: channel1
	Event type: 15 ACK received!

A pop-up window appears and nothing else happens. I tried to monitorize with wireshark the link between the indirection server and the DSS. I checked the HSS configuration (AS, TPs, etc) and everything is right. SIP dialog between the client and the indirection server is ok as well.

Regards


-----Mensaje original-----
De: Bill Friedrich [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/uctimsclient-users">bill.friedrich at cal.trlabs.ca</A>] 
Enviado el: jueves, 25 de septiembre de 2008 17:33
Para: Polo Cortina, Eduardo
Asunto: RE: [Uctimsclient-users] VLC and uctimsclient

You can hint files for &quot;free&quot; using MP4Box. It is part of the gpac mpeg4
suite (<A HREF="http://gpac.sourceforge.net/doc_mp4box.php">http://gpac.sourceforge.net/doc_mp4box.php</A>). If you are on Ubuntu
(maybe Debian and Fedora, but not sure), you can install gpac through
Synaptic.

The syntax for MP4Box is quite simple: MP4Box -hint filename

Because the UCTIMSClient uses libvlc to play the videos, any stream (ie.
the full streaming url, not just the file) that can be played in VLC
will play in the imsclient.

Also, are you using the latest indirection server again? Does your XML
have the following around your individual key-value_pair tags: 
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;key-value_pairs&gt;

	//key-value_pair

&lt;/key-value_pairs&gt;

Lastly, the indirection server will log to the screen when it sees a
connection. You should see requests being made to &quot;channel1&quot; or whatever
coming through.

Hope this helps a bit.

/bill


On Thu, 2008-09-25 at 17:18 +0200, Polo Cortina, Eduardo wrote:
&gt;<i> That's a good point. In fact, i found out that only with the samples (.mov files) I could make the stream (without the IMS). VLC works fine as well. The problem is when I integrate those servers with the IMS and use the uctimsclient. 
</I>&gt;<i> 
</I>&gt;<i> How do you hint the videos without the Quicktime pro? (I guess .mov are not supported by the uctimsclient)
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> -----Mensaje original-----
</I>&gt;<i> De: Bill Friedrich [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/uctimsclient-users">bill.friedrich at cal.trlabs.ca</A>] 
</I>&gt;<i> Enviado el: jueves, 25 de septiembre de 2008 17:12
</I>&gt;<i> Para: Polo Cortina, Eduardo
</I>&gt;<i> Asunto: RE: [Uctimsclient-users] VLC and uctimsclient
</I>&gt;<i> 
</I>&gt;<i> Were you able to connect to those streams normally with VLC (ie, outside
</I>&gt;<i> of the IMSClient)? I know I had to hint my streams before Darwin
</I>&gt;<i> Streaming Server would actually serve them. When I didn't hint them, I
</I>&gt;<i> would get the video window opening up, but the video would never play.
</I>&gt;<i> 
</I>&gt;<i> /bill
</I>&gt;<i> 
</I>&gt;<i> On Thu, 2008-09-25 at 09:45 +0200, Polo Cortina, Eduardo wrote:
</I>&gt;<i> &gt; Hi Bill
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Thanks for your response. I've checked the key file and this is what I have:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; &lt;key-value_pair&gt;
</I>&gt;<i> &gt; 	&lt;key&gt;channel1&lt;/key&gt;
</I>&gt;<i> &gt; 	&lt;value&gt;<A HREF="rtsp://172.30.10.223:554/sample.mov&lt;/value">rtsp://172.30.10.223:554/sample.mov&lt;/value</A>&gt;
</I>&gt;<i> &gt; &lt;/key-value_pair&gt;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; &lt;key-value_pair&gt;
</I>&gt;<i> &gt; 	&lt;key&gt;channel2&lt;/key&gt;
</I>&gt;<i> &gt; 	&lt;value&gt;<A HREF="rtp://172.30.10.223:1234/sp.mpg&lt;/value">rtp://172.30.10.223:1234/sp.mpg&lt;/value</A>&gt;
</I>&gt;<i> &gt; &lt;/key-value_pair&gt;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Channel 1 is for DSS and channel 2 is for VLC. 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; In the log window, these are the messages showed:
</I>&gt;<i> &gt; 09:42:01&gt; INVITE
</I>&gt;<i> &gt; 09:42:01&gt; trying -- your call is important to us (for INVITE)
</I>&gt;<i> &gt; 09:42:01&gt; Dialog Establishement (for INVITE)
</I>&gt;<i> &gt; 09:42:01&gt; OK (for INVITE)
</I>&gt;<i> &gt; 09:42:01&gt; ACK
</I>&gt;<i> &gt; A new window opens and then nothing happens
</I>&gt;<i> &gt; Any suggest?
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Thank you very much
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; -----Mensaje original-----
</I>&gt;<i> &gt; De: Bill Friedrich [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/uctimsclient-users">bill.friedrich at cal.trlabs.ca</A>] 
</I>&gt;<i> &gt; Enviado el: mi&#233;rcoles, 24 de septiembre de 2008 17:11
</I>&gt;<i> &gt; Para: Polo Cortina, Eduardo
</I>&gt;<i> &gt; Asunto: Re: [Uctimsclient-users] VLC and uctimsclient
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Hi, did it with Darwin Streaming Server.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; The one problem I noticed in the how to guide is that the XML they used
</I>&gt;<i> &gt; for key/value pairs was the wrong syntax for the newest version of the
</I>&gt;<i> &gt; indirection server. Here is the correct syntax to follow:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
</I>&gt;<i> &gt; &lt;key-value_pairs&gt;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; &lt;key-value_pair&gt;
</I>&gt;<i> &gt;         &lt;key&gt;channel1&lt;/key&gt;
</I>&gt;<i> &gt;         &lt;value&gt;<A HREF="rtsp://something.comish/media.mp4&lt;/value">rtsp://something.comish/media.mp4&lt;/value</A>&gt;
</I>&gt;<i> &gt; &lt;/key-value_pair&gt;
</I>&gt;<i> &gt; &lt;/key-value_pairs&gt;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Give this a try!
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; On Wed, 2008-09-24 at 11:50 +0200, Polo Cortina, Eduardo wrote:
</I>&gt;<i> &gt; &gt; Hi all!
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt;  
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; I've followed your &quot;how to guide&quot; to integrate a VLC acting as a
</I>&gt;<i> &gt; &gt; server within the OpenIMSCore. I've made all the setup steps till the
</I>&gt;<i> &gt; &gt; end.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; I've configured the key_value_file of the uctiptv_as to map requests
</I>&gt;<i> &gt; &gt; to the VLC. I've captured packets from uctimsclient to the uctiptv_as
</I>&gt;<i> &gt; &gt; with wireshark and all the SIP dialog is ok. 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt;  
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; When I register either with bob or alice and make the &quot;channel2&quot;
</I>&gt;<i> &gt; &gt; request, the client closes and in the log I get the following message:
</I>&gt;<i> &gt; &gt; Attempting to open RTSP stream ... segmentation fault (core dumped)
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt;  
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; I've also tried to make an udp stream channel:
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; # vlc -vvv ~/Videos/sp.mpg --sout udp:172.30.10.223 --ttl 12
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt;  
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; But I just get: access_output_udp private warning: send error:
</I>&gt;<i> &gt; &gt; connection refused
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt;  
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Anyone has watched a video on the uctimsclient? Which server do you
</I>&gt;<i> &gt; &gt; use? I also tried the Darwin Streaming Server...
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt;  
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt;  
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Thanks in advanced,
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Eduardo
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; Uctimsclient-users mailing list
</I>&gt;<i> &gt; &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/uctimsclient-users">Uctimsclient-users at lists.berlios.de</A>
</I>&gt;<i> &gt; &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/uctimsclient-users">https://lists.berlios.de/mailman/listinfo/uctimsclient-users</A>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000393.html">[Uctimsclient-users] VLC and uctimsclient
</A></li>
	<LI>Next message: <A HREF="000395.html">[Uctimsclient-users] VLC and uctimsclient
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#394">[ date ]</a>
              <a href="thread.html#394">[ thread ]</a>
              <a href="subject.html#394">[ subject ]</a>
              <a href="author.html#394">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/uctimsclient-users">More information about the Uctimsclient-users
mailing list</a><br>
</body></html>
