<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Uctimsclient-users] VLC and uctimsclient
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/uctimsclient-users/2008-September/index.html" >
   <LINK REL="made" HREF="mailto:uctimsclient-users%40lists.berlios.de?Subject=Re%3A%20%5BUctimsclient-users%5D%20VLC%20and%20uctimsclient&In-Reply-To=%3C97CA8A3DB10ADF47A295BD1248E28CB301370EE2%40MADARRMAIL3.indra.es%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000395.html">
   <LINK REL="Next"  HREF="000397.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Uctimsclient-users] VLC and uctimsclient</H1>
    <B>Polo Cortina, Eduardo</B> 
    <A HREF="mailto:uctimsclient-users%40lists.berlios.de?Subject=Re%3A%20%5BUctimsclient-users%5D%20VLC%20and%20uctimsclient&In-Reply-To=%3C97CA8A3DB10ADF47A295BD1248E28CB301370EE2%40MADARRMAIL3.indra.es%3E"
       TITLE="[Uctimsclient-users] VLC and uctimsclient">epoloc at indra.es
       </A><BR>
    <I>Fri Sep 26 14:20:44 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000395.html">[Uctimsclient-users] VLC and uctimsclient
</A></li>
        <LI>Next message: <A HREF="000397.html">[Uctimsclient-users] VLC and uctimsclient
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#396">[ date ]</a>
              <a href="thread.html#396">[ thread ]</a>
              <a href="subject.html#396">[ subject ]</a>
              <a href="author.html#396">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Robert, I don't see any rtsp messages in the wireshark, even when I capture packages while I'm getting the video in the quick time player (without the IMSCore).

&gt;&gt;<i> Also when the pop up window appears for 
</I>the video does the display message box show the correct RTSP address the 
client is suppose to be connecting to?

Yes, it shows sip:<A HREF="https://lists.berlios.de/mailman/listinfo/uctimsclient-users">channel1 at iptv.open-ims.test</A>

It's true that the last uctimsclient version failed. That's why I installed an older version


-----Mensaje original-----
De: <A HREF="https://lists.berlios.de/mailman/listinfo/uctimsclient-users">uctimsclient-users-bounces at lists.berlios.de</A> [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/uctimsclient-users">uctimsclient-users-bounces at lists.berlios.de</A>] En nombre de Robert Marston
Enviado el: viernes, 26 de septiembre de 2008 12:32
Para: <A HREF="https://lists.berlios.de/mailman/listinfo/uctimsclient-users">uctimsclient-users at lists.berlios.de</A>
Asunto: Re: [Uctimsclient-users] VLC and uctimsclient

Hi

It sounds as if the SIP signaling is working but perhaps the RTSP 
signaling is not. In wireshark are you able to see any RTSP describe and 
setup messages going through? Also when the pop up window appears for 
the video does the display message box show the correct RTSP address the 
client is suppose to be connecting to?

The latest client generally segfaults if the RTSP address it has been 
given is incorrect. This appears to be a problem with libvlc but perhaps 
some better error checking needs to be done on our part in order to 
ensure that the RTSP address is valid.

Regards
Robert

Polo Cortina, Eduardo wrote:
&gt;<i> Thanks for your tips Bill
</I>&gt;<i>
</I>&gt;<i> I've installed the gcap suite. 
</I>&gt;<i>
</I>&gt;<i> I use the latest version of the indirection server (1.0.0) and the xml file has the key-value_pair tags. 
</I>&gt;<i>
</I>&gt;<i> The log of the indirection server shows these messages when I request a channel from the uctimsclient:
</I>&gt;<i>
</I>&gt;<i> 	Server is ready to accept client requests... 
</I>&gt;<i> 	Event type: 5 New call received!
</I>&gt;<i> 	Client requesting: channel1
</I>&gt;<i> 	Event type: 15 ACK received!
</I>&gt;<i>
</I>&gt;<i> A pop-up window appears and nothing else happens. I tried to monitorize with wireshark the link between the indirection server and the DSS. I checked the HSS configuration (AS, TPs, etc) and everything is right. SIP dialog between the client and the indirection server is ok as well.
</I>&gt;<i>
</I>&gt;<i> Regards
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -----Mensaje original-----
</I>&gt;<i> De: Bill Friedrich [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/uctimsclient-users">bill.friedrich at cal.trlabs.ca</A>] 
</I>&gt;<i> Enviado el: jueves, 25 de septiembre de 2008 17:33
</I>&gt;<i> Para: Polo Cortina, Eduardo
</I>&gt;<i> Asunto: RE: [Uctimsclient-users] VLC and uctimsclient
</I>&gt;<i>
</I>&gt;<i> You can hint files for &quot;free&quot; using MP4Box. It is part of the gpac mpeg4
</I>&gt;<i> suite (<A HREF="http://gpac.sourceforge.net/doc_mp4box.php">http://gpac.sourceforge.net/doc_mp4box.php</A>). If you are on Ubuntu
</I>&gt;<i> (maybe Debian and Fedora, but not sure), you can install gpac through
</I>&gt;<i> Synaptic.
</I>&gt;<i>
</I>&gt;<i> The syntax for MP4Box is quite simple: MP4Box -hint filename
</I>&gt;<i>
</I>&gt;<i> Because the UCTIMSClient uses libvlc to play the videos, any stream (ie.
</I>&gt;<i> the full streaming url, not just the file) that can be played in VLC
</I>&gt;<i> will play in the imsclient.
</I>&gt;<i>
</I>&gt;<i> Also, are you using the latest indirection server again? Does your XML
</I>&gt;<i> have the following around your individual key-value_pair tags: 
</I>&gt;<i> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
</I>&gt;<i> &lt;key-value_pairs&gt;
</I>&gt;<i>
</I>&gt;<i> 	//key-value_pair
</I>&gt;<i>
</I>&gt;<i> &lt;/key-value_pairs&gt;
</I>&gt;<i>
</I>&gt;<i> Lastly, the indirection server will log to the screen when it sees a
</I>&gt;<i> connection. You should see requests being made to &quot;channel1&quot; or whatever
</I>&gt;<i> coming through.
</I>&gt;<i>
</I>&gt;<i> Hope this helps a bit.
</I>&gt;<i>
</I>&gt;<i> /bill
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Thu, 2008-09-25 at 17:18 +0200, Polo Cortina, Eduardo wrote:
</I>&gt;<i>   
</I>&gt;&gt;<i> That's a good point. In fact, i found out that only with the samples (.mov files) I could make the stream (without the IMS). VLC works fine as well. The problem is when I integrate those servers with the IMS and use the uctimsclient. 
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> How do you hint the videos without the Quicktime pro? (I guess .mov are not supported by the uctimsclient)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> -----Mensaje original-----
</I>&gt;&gt;<i> De: Bill Friedrich [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/uctimsclient-users">bill.friedrich at cal.trlabs.ca</A>] 
</I>&gt;&gt;<i> Enviado el: jueves, 25 de septiembre de 2008 17:12
</I>&gt;&gt;<i> Para: Polo Cortina, Eduardo
</I>&gt;&gt;<i> Asunto: RE: [Uctimsclient-users] VLC and uctimsclient
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Were you able to connect to those streams normally with VLC (ie, outside
</I>&gt;&gt;<i> of the IMSClient)? I know I had to hint my streams before Darwin
</I>&gt;&gt;<i> Streaming Server would actually serve them. When I didn't hint them, I
</I>&gt;&gt;<i> would get the video window opening up, but the video would never play.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> /bill
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Thu, 2008-09-25 at 09:45 +0200, Polo Cortina, Eduardo wrote:
</I>&gt;&gt;<i>     
</I>&gt;&gt;&gt;<i> Hi Bill
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Thanks for your response. I've checked the key file and this is what I have:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> &lt;key-value_pair&gt;
</I>&gt;&gt;&gt;<i> 	&lt;key&gt;channel1&lt;/key&gt;
</I>&gt;&gt;&gt;<i> 	&lt;value&gt;<A HREF="rtsp://172.30.10.223:554/sample.mov&lt;/value">rtsp://172.30.10.223:554/sample.mov&lt;/value</A>&gt;
</I>&gt;&gt;&gt;<i> &lt;/key-value_pair&gt;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> &lt;key-value_pair&gt;
</I>&gt;&gt;&gt;<i> 	&lt;key&gt;channel2&lt;/key&gt;
</I>&gt;&gt;&gt;<i> 	&lt;value&gt;<A HREF="rtp://172.30.10.223:1234/sp.mpg&lt;/value">rtp://172.30.10.223:1234/sp.mpg&lt;/value</A>&gt;
</I>&gt;&gt;&gt;<i> &lt;/key-value_pair&gt;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Channel 1 is for DSS and channel 2 is for VLC. 
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> In the log window, these are the messages showed:
</I>&gt;&gt;&gt;<i> 09:42:01&gt; INVITE
</I>&gt;&gt;&gt;<i> 09:42:01&gt; trying -- your call is important to us (for INVITE)
</I>&gt;&gt;&gt;<i> 09:42:01&gt; Dialog Establishement (for INVITE)
</I>&gt;&gt;&gt;<i> 09:42:01&gt; OK (for INVITE)
</I>&gt;&gt;&gt;<i> 09:42:01&gt; ACK
</I>&gt;&gt;&gt;<i> A new window opens and then nothing happens
</I>&gt;&gt;&gt;<i> Any suggest?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Thank you very much
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> -----Mensaje original-----
</I>&gt;&gt;&gt;<i> De: Bill Friedrich [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/uctimsclient-users">bill.friedrich at cal.trlabs.ca</A>] 
</I>&gt;&gt;&gt;<i> Enviado el: mi&#233;rcoles, 24 de septiembre de 2008 17:11
</I>&gt;&gt;&gt;<i> Para: Polo Cortina, Eduardo
</I>&gt;&gt;&gt;<i> Asunto: Re: [Uctimsclient-users] VLC and uctimsclient
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Hi, did it with Darwin Streaming Server.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> The one problem I noticed in the how to guide is that the XML they used
</I>&gt;&gt;&gt;<i> for key/value pairs was the wrong syntax for the newest version of the
</I>&gt;&gt;&gt;<i> indirection server. Here is the correct syntax to follow:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
</I>&gt;&gt;&gt;<i> &lt;key-value_pairs&gt;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> &lt;key-value_pair&gt;
</I>&gt;&gt;&gt;<i>         &lt;key&gt;channel1&lt;/key&gt;
</I>&gt;&gt;&gt;<i>         &lt;value&gt;<A HREF="rtsp://something.comish/media.mp4&lt;/value">rtsp://something.comish/media.mp4&lt;/value</A>&gt;
</I>&gt;&gt;&gt;<i> &lt;/key-value_pair&gt;
</I>&gt;&gt;&gt;<i> &lt;/key-value_pairs&gt;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Give this a try!
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> On Wed, 2008-09-24 at 11:50 +0200, Polo Cortina, Eduardo wrote:
</I>&gt;&gt;&gt;<i>       
</I>&gt;&gt;&gt;&gt;<i> Hi all!
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>  
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> I've followed your &quot;how to guide&quot; to integrate a VLC acting as a
</I>&gt;&gt;&gt;&gt;<i> server within the OpenIMSCore. I've made all the setup steps till the
</I>&gt;&gt;&gt;&gt;<i> end.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> I've configured the key_value_file of the uctiptv_as to map requests
</I>&gt;&gt;&gt;&gt;<i> to the VLC. I've captured packets from uctimsclient to the uctiptv_as
</I>&gt;&gt;&gt;&gt;<i> with wireshark and all the SIP dialog is ok. 
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>  
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> When I register either with bob or alice and make the &quot;channel2&quot;
</I>&gt;&gt;&gt;&gt;<i> request, the client closes and in the log I get the following message:
</I>&gt;&gt;&gt;&gt;<i> Attempting to open RTSP stream ... segmentation fault (core dumped)
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>  
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> I've also tried to make an udp stream channel:
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> # vlc -vvv ~/Videos/sp.mpg --sout udp:172.30.10.223 --ttl 12
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>  
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> But I just get: access_output_udp private warning: send error:
</I>&gt;&gt;&gt;&gt;<i> connection refused
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>  
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Anyone has watched a video on the uctimsclient? Which server do you
</I>&gt;&gt;&gt;&gt;<i> use? I also tried the Darwin Streaming Server...
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>  
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>  
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Thanks in advanced,
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Eduardo
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;&gt;<i> Uctimsclient-users mailing list
</I>&gt;&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/uctimsclient-users">Uctimsclient-users at lists.berlios.de</A>
</I>&gt;&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/uctimsclient-users">https://lists.berlios.de/mailman/listinfo/uctimsclient-users</A>
</I>&gt;&gt;&gt;&gt;<i>         
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Uctimsclient-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/uctimsclient-users">Uctimsclient-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/uctimsclient-users">https://lists.berlios.de/mailman/listinfo/uctimsclient-users</A>
</I>&gt;<i>   
</I>
_______________________________________________
Uctimsclient-users mailing list
<A HREF="https://lists.berlios.de/mailman/listinfo/uctimsclient-users">Uctimsclient-users at lists.berlios.de</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/uctimsclient-users">https://lists.berlios.de/mailman/listinfo/uctimsclient-users</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000395.html">[Uctimsclient-users] VLC and uctimsclient
</A></li>
	<LI>Next message: <A HREF="000397.html">[Uctimsclient-users] VLC and uctimsclient
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#396">[ date ]</a>
              <a href="thread.html#396">[ thread ]</a>
              <a href="subject.html#396">[ subject ]</a>
              <a href="author.html#396">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/uctimsclient-users">More information about the Uctimsclient-users
mailing list</a><br>
</body></html>
